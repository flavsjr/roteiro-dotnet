<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roteiro .NET Senior</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dotnet: {
                            500: '#512BD4',
                            600: '#4423b9',
                            900: '#1e1250',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .checkbox-wrapper input:checked + div {
            background-color: #512BD4;
            border-color: #512BD4;
        }
        .checkbox-wrapper input:checked + div svg {
            display: block;
        }
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body class="min-h-screen pb-20">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 glass-panel border-b border-slate-700">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <i class="fa-brands fa-microsoft text-dotnet-500 text-2xl"></i>
                    <span class="font-bold text-xl tracking-tight">Roteiro .NET Senior</span>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-xs text-slate-400 hidden sm:block">Progresso Global</div>
                    <div class="w-32 h-2 bg-slate-700 rounded-full overflow-hidden">
                        <div id="global-progress-bar" class="h-full bg-dotnet-500 transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <span id="global-progress-text" class="text-xs font-mono font-bold text-dotnet-500">0%</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Content -->
    <div class="pt-24 pb-10 px-4 text-center max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-dotnet-500 to-purple-400 mb-4">
            De Pleno a Sênior
        </h1>
        <p class="text-slate-400 text-lg mb-8">
            Um plano estruturado de 12 semanas focado em Backend, Arquitetura e Performance.
            <br/><span class="text-sm text-slate-500">30 minutos por dia.</span>
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="p-4 rounded-xl bg-slate-800 border border-slate-700 text-left">
                <div class="text-dotnet-500 mb-2"><i class="fa-solid fa-microchip"></i> Mês 1</div>
                <h3 class="font-bold text-white">Internals & Deep Dive</h3>
                <div id="month-1-progress" class="text-xs text-slate-400 mt-2">0/20 Concluídos</div>
            </div>
            <div class="p-4 rounded-xl bg-slate-800 border border-slate-700 text-left">
                <div class="text-emerald-500 mb-2"><i class="fa-solid fa-layer-group"></i> Mês 2</div>
                <h3 class="font-bold text-white">Arquitetura & Data</h3>
                <div id="month-2-progress" class="text-xs text-slate-400 mt-2">0/20 Concluídos</div>
            </div>
            <div class="p-4 rounded-xl bg-slate-800 border border-slate-700 text-left">
                <div class="text-amber-500 mb-2"><i class="fa-solid fa-shield-halved"></i> Mês 3</div>
                <h3 class="font-bold text-white">Resiliência & Cloud</h3>
                <div id="month-3-progress" class="text-xs text-slate-400 mt-2">0/20 Concluídos</div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="app-container" class="max-w-4xl mx-auto px-4 space-y-8">
        <!-- Content will be injected here by JS -->
    </div>

    <!-- Reset Button Footer -->
    <div class="text-center mt-12 mb-8">
        <button onclick="resetProgress()" class="text-slate-500 hover:text-red-400 text-sm transition-colors">
            <i class="fa-solid fa-trash-can mr-1"></i> Resetar todo o progresso
        </button>
    </div>

    <script>
        // Data Structure
        const studyPlan = [
            {
                title: "Mês 1: O 'Deep Dive'",
                description: "Entendendo como o .NET gerencia recursos e threads.",
                color: "dotnet",
                weeks: [
                    {
                        title: "Semana 1: Memória e Garbage Collector",
                        days: [
                            { id: "w1d1", day: "Segunda", topic: "Stack vs. Heap, Value Types vs Reference Types" },
                            { id: "w1d2", day: "Terça", topic: "Garbage Collector (Gerações 0, 1, 2 e LOH)" },
                            { id: "w1d3", day: "Quarta", topic: "Pattern IDisposable e 'using'" },
                            { id: "w1d4", day: "Quinta", topic: "Identificando Memory Leaks (dotMemory/Profiler)" },
                            { id: "w1d5", day: "Sexta", topic: "Span<T> e Memory<T> (High Performance)" }
                        ]
                    },
                    {
                        title: "Semana 2: Assincronismo e Multithreading",
                        days: [
                            { id: "w2d1", day: "Segunda", topic: "Async/Await State Machine Internals" },
                            { id: "w2d2", day: "Terça", topic: "ThreadPool e Thread Starvation" },
                            { id: "w2d3", day: "Quarta", topic: "Task.Run vs async void" },
                            { id: "w2d4", day: "Quinta", topic: "Sincronização: SemaphoreSlim, Monitor, Lock" },
                            { id: "w2d5", day: "Sexta", topic: "Parallel.ForEach vs Task.WhenAll" }
                        ]
                    },
                    {
                        title: "Semana 3: Injeção de Dependência Avançada",
                        days: [
                            { id: "w3d1", day: "Segunda", topic: "Lifetimes e Captive Dependencies" },
                            { id: "w3d2", day: "Terça", topic: "Factory Pattern e Keyed Services" },
                            { id: "w3d3", day: "Quarta", topic: "Scrutor e Assembly Scanning" },
                            { id: "w3d4", day: "Quinta", topic: "Múltiplas implementações (Feature Flags)" },
                            { id: "w3d5", day: "Sexta", topic: "Anti-patterns (Service Locator)" }
                        ]
                    },
                    {
                        title: "Semana 4: Middlewares e Pipeline",
                        days: [
                            { id: "w4d1", day: "Segunda", topic: "HttpContext e Pipeline de Request" },
                            { id: "w4d2", day: "Terça", topic: "Middlewares Customizados" },
                            { id: "w4d3", day: "Quarta", topic: "Filter vs Middleware" },
                            { id: "w4d4", day: "Quinta", topic: "Model Binding e Validation" },
                            { id: "w4d5", day: "Sexta", topic: "IHostedService e BackgroundServices" }
                        ]
                    }
                ]
            },
            {
                title: "Mês 2: Arquitetura e Decisões",
                description: "Estruturando aplicações robustas e escaláveis.",
                color: "emerald",
                weeks: [
                    {
                        title: "Semana 5: Arquitetura de Software",
                        days: [
                            { id: "w5d1", day: "Segunda", topic: "Clean Architecture" },
                            { id: "w5d2", day: "Terça", topic: "Vertical Slice Architecture" },
                            { id: "w5d3", day: "Quarta", topic: "Modular Monolith" },
                            { id: "w5d4", day: "Quinta", topic: "CQS e CQRS" },
                            { id: "w5d5", day: "Sexta", topic: "MediatR: Prós e Contras" }
                        ]
                    },
                    {
                        title: "Semana 6: DDD Tático",
                        days: [
                            { id: "w6d1", day: "Segunda", topic: "Anemic vs Rich Domain Model" },
                            { id: "w6d2", day: "Terça", topic: "Value Objects vs Entities" },
                            { id: "w6d3", day: "Quarta", topic: "Aggregates e Consistência" },
                            { id: "w6d4", day: "Quinta", topic: "Domain Events" },
                            { id: "w6d5", day: "Sexta", topic: "Repositories vs IQueryable" }
                        ]
                    },
                    {
                        title: "Semana 7: EF Core e Performance",
                        days: [
                            { id: "w7d1", day: "Segunda", topic: "Problema N+1 (Include, SplitQuery)" },
                            { id: "w7d2", day: "Terça", topic: "AsNoTracking e Projections" },
                            { id: "w7d3", day: "Quarta", topic: "Concorrência Otimista" },
                            { id: "w7d4", day: "Quinta", topic: "Dapper vs EF Core" },
                            { id: "w7d5", day: "Sexta", topic: "Migrations em Produção" }
                        ]
                    },
                    {
                        title: "Semana 8: Caching",
                        days: [
                            { id: "w8d1", day: "Segunda", topic: "IMemoryCache vs IDistributedCache" },
                            { id: "w8d2", day: "Terça", topic: "Cache-Aside vs Write-Through" },
                            { id: "w8d3", day: "Quarta", topic: "Cache Stampede e soluções" },
                            { id: "w8d4", day: "Quinta", topic: "Compressão de Resposta" },
                            { id: "w8d5", day: "Sexta", topic: "BenchmarkDotNet" }
                        ]
                    }
                ]
            },
            {
                title: "Mês 3: Resiliência e Profissionalismo",
                description: "Preparando para o mundo real e falhas.",
                color: "amber",
                weeks: [
                    {
                        title: "Semana 9: Resiliência",
                        days: [
                            { id: "w9d1", day: "Segunda", topic: "Retry e Exponential Backoff" },
                            { id: "w9d2", day: "Terça", topic: "Circuit Breaker" },
                            { id: "w9d3", day: "Quarta", topic: "Biblioteca Polly" },
                            { id: "w9d4", day: "Quinta", topic: "Idempotência em APIs" },
                            { id: "w9d5", day: "Sexta", topic: "Health Checks" }
                        ]
                    },
                    {
                        title: "Semana 10: Comunicação entre Serviços",
                        days: [
                            { id: "w10d1", day: "Segunda", topic: "REST maduro e Versionamento" },
                            { id: "w10d2", day: "Terça", topic: "gRPC vs REST" },
                            { id: "w10d3", day: "Quarta", topic: "Mensageria: Filas vs Tópicos" },
                            { id: "w10d4", day: "Quinta", topic: "Padrão Outbox" },
                            { id: "w10d5", day: "Sexta", topic: "MassTransit/Rebus" }
                        ]
                    },
                    {
                        title: "Semana 11: Observabilidade",
                        days: [
                            { id: "w11d1", day: "Segunda", topic: "Logging Estruturado (Serilog)" },
                            { id: "w11d2", day: "Terça", topic: "OpenTelemetry e Tracing" },
                            { id: "w11d3", day: "Quarta", topic: "Métricas (Prometheus/Grafana)" },
                            { id: "w11d4", day: "Quinta", topic: "Testes Unitários vs Integração" },
                            { id: "w11d5", day: "Sexta", topic: "Testcontainers" }
                        ]
                    },
                    {
                        title: "Semana 12: Tópicos Modernos",
                        days: [
                            { id: "w12d1", day: "Segunda", topic: "Auth (OAuth2, OIDC, JWT)" },
                            { id: "w12d2", day: "Terça", topic: "Minimal APIs vs Controllers" },
                            { id: "w12d3", day: "Quarta", topic: "Native AOT" },
                            { id: "w12d4", day: "Quinta", topic: "Dockerfiles Otimizados" },
                            { id: "w12d5", day: "Sexta", topic: "CI/CD Básico" }
                        ]
                    }
                ]
            }
        ];

        // State Management
        let completedTasks = JSON.parse(localStorage.getItem('dotnetStudyProgress')) || [];

        function saveProgress() {
            localStorage.setItem('dotnetStudyProgress', JSON.stringify(completedTasks));
            updateUI();
        }

        function toggleTask(id) {
            if (completedTasks.includes(id)) {
                completedTasks = completedTasks.filter(t => t !== id);
            } else {
                completedTasks.push(id);
            }
            saveProgress();
        }

        function resetProgress() {
            if(confirm("Tem certeza que deseja zerar seu progresso?")) {
                completedTasks = [];
                saveProgress();
                location.reload();
            }
        }

        function updateUI() {
            const totalTasks = studyPlan.reduce((acc, month) => 
                acc + month.weeks.reduce((wAcc, week) => wAcc + week.days.length, 0), 0);
            
            const progress = Math.round((completedTasks.length / totalTasks) * 100);
            
            // Update Global Bar
            document.getElementById('global-progress-bar').style.width = `${progress}%`;
            document.getElementById('global-progress-text').innerText = `${progress}%`;

            // Update Month Bars
            studyPlan.forEach((month, index) => {
                const monthTasks = month.weeks.flatMap(w => w.days);
                const monthCompleted = monthTasks.filter(d => completedTasks.includes(d.id)).length;
                document.getElementById(`month-${index+1}-progress`).innerText = 
                    `${monthCompleted}/${monthTasks.length} Concluídos`;
            });
        }

        function renderApp() {
            const container = document.getElementById('app-container');
            
            studyPlan.forEach((month, mIndex) => {
                const monthEl = document.createElement('div');
                monthEl.className = 'mb-12 animate-fade-in';
                
                // Month Header
                const headerColor = mIndex === 0 ? 'text-dotnet-500 border-dotnet-500' : 
                                  mIndex === 1 ? 'text-emerald-500 border-emerald-500' : 
                                  'text-amber-500 border-amber-500';

                monthEl.innerHTML = `
                    <div class="flex items-center gap-4 mb-6 border-b border-slate-700 pb-2">
                        <div class="text-2xl font-bold ${headerColor}">${month.title}</div>
                    </div>
                `;

                // Weeks Grid
                const weeksGrid = document.createElement('div');
                weeksGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-6';

                month.weeks.forEach((week, wIndex) => {
                    const weekCard = document.createElement('div');
                    weekCard.className = 'bg-slate-800 rounded-xl border border-slate-700 overflow-hidden hover:border-slate-500 transition-colors';
                    
                    let daysHtml = '';
                    week.days.forEach(day => {
                        const isChecked = completedTasks.includes(day.id) ? 'checked' : '';
                        daysHtml += `
                            <label class="flex items-start gap-3 p-3 hover:bg-slate-700/50 rounded-lg cursor-pointer group transition-colors checkbox-wrapper">
                                <div class="relative flex items-center mt-1">
                                    <input type="checkbox" class="peer sr-only" ${isChecked} onchange="toggleTask('${day.id}')">
                                    <div class="w-5 h-5 border-2 border-slate-500 rounded bg-slate-800 peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-offset-slate-900 peer-focus:ring-dotnet-500 transition-all flex items-center justify-center">
                                        <svg class="w-3 h-3 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                                    </div>
                                </div>
                                <div class="flex-1">
                                    <div class="text-xs font-bold text-slate-400 mb-0.5 group-hover:text-slate-300">${day.day}</div>
                                    <div class="text-sm text-slate-200 leading-snug">${day.topic}</div>
                                </div>
                            </label>
                        `;
                    });

                    weekCard.innerHTML = `
                        <div class="bg-slate-900/50 p-3 border-b border-slate-700 font-semibold text-slate-200 flex justify-between items-center">
                            <span>${week.title}</span>
                            <i class="fa-solid fa-code text-slate-600 text-xs"></i>
                        </div>
                        <div class="p-2 space-y-1">
                            ${daysHtml}
                        </div>
                    `;
                    weeksGrid.appendChild(weekCard);
                });

                monthEl.appendChild(weeksGrid);
                container.appendChild(monthEl);
            });
            
            updateUI();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderApp);

    </script>
</body>
</html>